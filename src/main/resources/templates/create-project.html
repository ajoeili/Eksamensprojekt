<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Create Project</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"> <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&family=Open+Sans:wght@600&display=swap"> <!-- Google Fonts -->
    <link rel="stylesheet" th:href="@{/styles.css}">
</head>

<body>

<div class="container">
    <h2>Create New Project</h2>

    <!-- Display success or error messages from the backend -->
    <div th:if="${successMessage}" class="success-message" th:text="${successMessage}"></div>
    <div th:if="${errorMessage}" class="error-message" th:text="${errorMessage}"></div>

    <form action="/projects/create" method="POST">

        <!-- Project Details -->
        <label for="name">Project name:</label>
        <input type="text" id="name" name="name" required placeholder="Enter project name">
        <div class="error-message" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></div>
        <br><br>

        <label for="description">Description:</label>
        <input type="text" id="description" name="description" required placeholder="Enter description">
        <div class="error-message" th:if="${#fields.hasErrors('description')}" th:errors="*{description}"></div>
        <br><br>

        <label for="start-date">Start date:</label>
        <input type="date" id="start-date" name="startDate" required>
        <div class="error-message" th:if="${#fields.hasErrors('startDate')}" th:errors="*{startDate}"></div>
        <br><br>

        <label for="end-date">End date:</label>
        <input type="date" id="end-date" name="endDate" required>
        <div class="error-message" th:if="${#fields.hasErrors('endDate')}" th:errors="*{endDate}"></div>
        <br><br>

        <!-- Employee Selection -->
        <label for="employees">Assign Employees:</label>
        <select id="employees" th:field="*{employees}" multiple size="5" required>
            <option th:each="employee : ${employees}"
                    th:value="${employee.employeeId}"
                    th:text="${employee.firstName + ' ' + employee.lastName}">
            </option>
        </select>
        <div class="error-message" th:if="${#fields.hasErrors('employees')}" th:errors="*{employees}"></div>
        <p>Select multiple employees using Ctrl (Windows) or Cmd (Mac).</p>
        <br><br>

        <button type="submit" onclick="return confirm('Please confirm project creation')">
            Create Project
        </button>
    </form>
</div>

</body>
</html>
